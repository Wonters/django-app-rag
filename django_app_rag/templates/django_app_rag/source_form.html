{% extends "django_app_rag/base.html" %}
{% load static %}
{% block title %}Ajouter une source{% endblock %}
{% block content %}
<link rel="stylesheet" href="{% static 'node_modules/choices.js/public/assets/styles/choices.min.css' %}">
<div class="container p-3">
    <h5>Ajouter une source</h5>
    <form method="post" enctype="multipart/form-data" novalidate>
        {% csrf_token %}
        {{ form.as_p }}
        <div class="mt-3 text-end">
            <button type="submit" class="btn btn-primary">Ajouter</button>
        </div>
    </form>
    {% if form.errors %}
        <div class="alert alert-danger mt-2">Veuillez corriger les erreurs du formulaire.</div>
    {% endif %}
    {% if form.non_field_errors %}
        <div class="alert alert-danger mt-2">{{ form.non_field_errors }}</div>
    {% endif %}
</div>
<script src="{% static 'node_modules/choices.js/public/assets/scripts/choices.min.js' %}"></script>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    document.querySelectorAll('.js-choice').forEach(function(el) {
      new Choices(el, { removeItemButton: true });
    });
  });
</script>
{% endblock %}